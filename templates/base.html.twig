<!DOCTYPE html>
<html lang="{{ language|default('fr') }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta_description %}{{ translations.translate('meta.description') }}{% endblock %}">
    <title>{% block title %}{{ translations.translate('site.title') }}{% endblock %}</title>
    
    {# Favicon #}
    <link rel="icon" type="image/x-icon" href="/assets/img/AshaLogo.ico">
    <link rel="icon" type="image/png" href="/assets/img/AshaLogo.png">
    <link rel="apple-touch-icon" href="/assets/img/AshaLogo.png">
    
    {# Google Fonts #}
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/assets/css/styles.css">

    
    {# Additional stylesheets #}
    {% block stylesheets %}{% endblock %}
</head>

<body>
    {# Portrait mode warning #}
    <div id="portraitWarning" class="portrait-warning">
        <div class="portrait-warning-container">
            <h2 class="portrait-warning-title">⚠️ {{ translations.translate('warning.title') }}</h2>
            <p class="portrait-warning-message">{{ translations.translate('warning.portrait_mode') }}</p>
            <button id="closePortraitWarning" class="portrait-warning-button">
                {{ translations.translate('warning.got_it') }}
            </button>
        </div>
    </div>

    {# Navigation #}
    {% include 'components/navigation.html.twig' %}

    {# Flash messages #}
    <div class="container">
        {% if error is defined and error is not empty %}
            {% for message in error %}
                <div class="flash-message flash-error">{{ message }}</div>
            {% endfor %}
        {% endif %}

        {% if request.getFlashMessages('error') is not empty %}
            {% for message in request.getFlashMessages('error') %}
                <div class="flash-message flash-error">{{ message }}</div>
            {% endfor %}
        {% endif %}

        {% if success is defined and success is not empty %}
            {% for message in success %}
                <div class="flash-message flash-success">{{ message }}</div>
            {% endfor %}
        {% endif %}

        {% if request.getFlashMessages('success') is not empty %}
            {% for message in request.getFlashMessages('success') %}
                <div class="flash-message flash-success">{{ message }}</div>
            {% endfor %}
        {% endif %}
    </div>

    {# Main content #}
    <main class="main-content">
        {% block content %}{% endblock %}
    </main>

    {# Footer #}
    {% include 'components/footer.html.twig' %}

    {# Core JavaScript Files #}
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/navigation-enhancements.js"></script>
    <script src="/assets/js/ui.js"></script>
    <script src="/assets/js/responsive.js"></script>
    
    {# Additional scripts #}
    {% block javascripts %}{% endblock %}
</body>
</html>