<!DOCTYPE html>
<html lang="{{ language|default('fr') }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta_description %}{{ translations.translate('meta.description') }}{% endblock %}">
    
    <title>{% block title %}{{ translations.translate('site.title') }}{% endblock %}</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" href="/assets/img/ashaLogo.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/assets/img/ashaLogo.ico">

    <!-- CSS Files - The order matters for cascading priority -->
    <link rel="stylesheet" href="/assets/css/base.css">
    <link rel="stylesheet" href="/assets/css/layout.css">
    <link rel="stylesheet" href="/assets/css/components.css">
    <link rel="stylesheet" href="/assets/css/navigation.css">
    <link rel="stylesheet" href="/assets/css/effects.css">
    <link rel="stylesheet" href="/assets/css/utilities.css">
    <link rel="stylesheet" href="/assets/css/responsive.css">
    <link rel="stylesheet" href="/assets/css/project-cards.css">
    <link rel="stylesheet" href="/assets/css/static-fixes1.css">
    
    <!-- Custom stylesheets -->
    {% block stylesheets %}{% endblock %}
</head>
<body>
    <!-- Page container for overall structure -->
    <div class="page-container">
        <!-- Flash messages for notifications -->
        {% include 'components/flash-messages.html.twig' %}
        
        <!-- Fixed header/navbar -->
        {% include 'components/navigation.html.twig' %}
        
        <!-- Fixed hero section in background -->
        <div class="hero-static">
            {% block hero %}
                {% include 'components/hero.html.twig' %}
            {% endblock %}
        </div>
        
        <!-- Scrollable content layer -->
        <div class="scrollable-content">
            <!-- Top spacer to push content below hero -->
            <div class="spacer-top"></div>
            
            <!-- Top Triangle -->
            <div class="triangle-section">
                <svg class="absolute w-full h-full" preserveAspectRatio="none" viewBox="0 0 1920 120">
                    <defs>
                        <filter id="topShadow" x="0" y="0" width="100%" height="200%">
                            <feDropShadow dx="0" dy="-4" stdDeviation="3" flood-opacity="0.3" />
                        </filter>
                    </defs>
                    <path d="M0 120 L1920 80 L1920 120 L0 120 Z" fill="#3E3E53" />
                    <path d="M0 120 L1920 40 L1920 80 L0 120 Z" fill="#D7D7D7" />
                    <path d="M0 120 L1920 0 L1920 40 L0 120 Z" fill="#658C79" filter="url(#topShadow)" />
                </svg>
            </div>
            
            <!-- Main content area -->
            <main class="main-content">
                {% block content %}{% endblock %}
            </main>
            
            <!-- Bottom Triangle -->
            <div class="triangle-section">
                <svg class="absolute w-full h-full" preserveAspectRatio="none" viewBox="0 0 1920 120">
                    <defs>
                        <filter id="bottomShadow" x="0" y="0" width="100%" height="200%">
                            <feDropShadow dx="0" dy="4" stdDeviation="3" flood-opacity="0.3" />
                        </filter>
                    </defs>
                    <path d="M1920 0 L0 0 L0 40 L1920 0 Z" fill="#3E3E53" />
                    <path d="M1920 0 L0 40 L0 80 L1920 0 Z" fill="#D7D7D7" />
                    <path d="M1920 0 L0 80 L0 120 L1920 0 Z" fill="#658C79" filter="url(#bottomShadow)" />
                </svg>
            </div>
            
            <!-- Bottom spacer to allow scrolling to footer -->
            <div class="spacer-bottom"></div>
        </div>
        
        <!-- Fixed footer in background -->
        <div class="footer-static">
            {% block footer %}
                {% include 'components/footer.html.twig' %}
            {% endblock %}
        </div>
    </div>
    

    <!-- Language switcher (positioned absolutely) -->
    {% include 'components/language-switcher.html.twig' %}  

    <!-- Optional: portrait mode warning for mobile -->
    {% include 'components/portrait-warning.html.twig' %}

    <!-- JavaScript - Load at the end for performance -->
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/responsive.js"></script>
    <script src="/assets/js/parallax.js"></script>
    <script src="/assets/js/ui.js"></script>
    <script src="/assets/js/project-cards.js"></script>
    <script src="/assets/js/mobile-menu.js"></script>
    <script src="/assets/js/project-3D.js"></script>
    <script src="/assets/js/css-override-fix.js"></script>
    <script src="/assets/js/fix-clicks.js"></script>
    <!-- Custom scripts -->
    {% block javascripts %}{% endblock %}
</body>
</html>